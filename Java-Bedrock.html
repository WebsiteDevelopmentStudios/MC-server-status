<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Server Status</title>
  <style>
    /* blank page style — large centered status only */
    html,body { height:100%; margin:0; background:#000; }
    .wrap {
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    #status {
      font-size:6vmin;
      font-weight:700;
      letter-spacing:0.06em;
      color:#fff;
    }
    #status.online { color:#00ff66; }
    #status.offline { color:#ff3b30; }
    #meta { 
      position:fixed; bottom:12px; left:12px; font-size:12px; color:#aaa;
      font-weight:500;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div id="status" class="">Checking…</div>
  </div>
  <div id="meta">Anyname.enderman.cloud:49884 — Java (Geyser)</div>

  <script>
    // === Edit these if you want a different server ===
    const SERVER_HOST = "Anyname.enderman.cloud";
    const SERVER_PORT = 49884;
    // =================================================

    const statusEl = document.getElementById("status");
    const API_BASE = "https://api.mcsrvstat.us/2"; // public Minecraft status API

    async function checkServer() {
      statusEl.textContent = "Checking…";
      statusEl.className = "";

      try {
        const res = await fetch(`${API_BASE}/${SERVER_HOST}:${SERVER_PORT}`, { cache: "no-store" });
        if (!res.ok) throw new Error("Network response not OK");

        const data = await res.json();

        if (data && data.online) {
          // show ONLINE and optionally players
          const players = data.players && typeof data.players.online === "number"
            ? ` — ${data.players.online}${data.players.max ? `/${data.players.max}` : ""}`
            : "";
          statusEl.textContent = "ONLINE" + players;
          statusEl.className = "online";
        } else {
          statusEl.textContent = "OFFLINE";
          statusEl.className = "offline";
        }
      } catch (err) {
        // network or JSON error — show offline
        statusEl.textContent = "OFFLINE";
        statusEl.className = "offline";
        // optionally log to console for debugging
        console.debug("Status check error:", err);
      }
    }

    // initial check + periodic refresh
    checkServer();
    setInterval(checkServer, 10000); // every 10s
  </script>
</body>
</html>
